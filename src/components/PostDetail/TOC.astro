---
import type { MarkdownHeading } from 'astro';

// TOC (Table of Contents) component for the post detail left section
// This component will extract headings from the post content and display them as a table of contents
const { headings } = Astro.props;
interface Props {
  headings: MarkdownHeading[];
}

---

<div class="sticky top-4 bg-gray-50 p-4 rounded-lg shadow-sm">
  <h2 class="text-xl font-semibold mb-4">Table of Contents</h2>

  {headings && headings.length > 0 ? (
    <nav>
      <ul class="space-y-2">
        {headings.map((heading) => (
          <li class={`level-${heading.depth} ${heading.depth === 2 ? 'font-medium' : 'text-sm pl-3'}`}>
            <a 
              href={`#${heading.slug}`}
              class="hover:text-primary block text-gray-700"
            >
              {heading.text}
            </a>
          </li>
        ))}
      </ul>
    </nav>
  ) : (
    <p class="text-gray-500 italic">No table of contents available for this post.</p>
  )}
</div>