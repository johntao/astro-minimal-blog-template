---
// PostDetail component for the post page
import { render, type CollectionEntry } from "astro:content";
import TOC from './TOC.astro';
import MainContent from './MainContent.astro';

type Props = { post: CollectionEntry<"blog"> };
const { post } = Astro.props;
const { Content, headings } = await render(post);
---

<div class="flex flex-col md:flex-row gap-8 relative min-h-screen">
  <!-- Left Section: TOC -->
  <aside id="d-left" class="w-48 md:sticky top-toc-top h-fit">
    <TOC headings={headings} />
  </aside>

  <!-- Center Section: Main Content -->
  <section id="d-center" class="flex-1 min-w-0">
    <MainContent post={post} Content={Content} />
  </section>
</div>