---
// AboutMe component with toggle functionality
---

<div class="bg-white rounded-lg shadow-sm p-6">
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-2xl font-semibold">About Me</h2>
    <button id="toggle-about-me" aria-label="Toggle about me section" class="px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-md transition-colors">
      <span class="toggle-text">Hide</span>
    </button>
  </div>

  <div id="about-me-content" class="prose">
    <p>Hello! I'm a passionate blogger and developer who loves to share insights about technology, programming, and web development.</p>
    <p>This blog is my platform to document my journey, share what I've learned, and hopefully help others along the way.</p>
    <div class="mt-4">
      <a href="/about" class="text-primary hover:underline">Read more about me â†’</a>
    </div>
  </div>
</div>

<script>
  // Toggle functionality for About Me section
  document.addEventListener('DOMContentLoaded', () => {
    const toggleBtn = document.getElementById('toggle-about-me');
    const content = document.getElementById('about-me-content');
    const toggleText = toggleBtn?.querySelector('.toggle-text');

    // Check if the about me section should be hidden (from localStorage)
    const isHidden = localStorage.getItem('aboutMeHidden') === 'true';

    // Initialize state based on localStorage
    if (isHidden && content) {
      content.classList.add('hidden');
      if (toggleText) toggleText.textContent = 'Show';
    }

    toggleBtn?.addEventListener('click', () => {
      if (content) {
        const isCurrentlyVisible = !content.classList.contains('hidden');

        // Toggle visibility using Tailwind classes
        if (isCurrentlyVisible) {
          content.classList.add('hidden');
          if (toggleText) toggleText.textContent = 'Show';
        } else {
          content.classList.remove('hidden');
          if (toggleText) toggleText.textContent = 'Hide';
        }

        // Store preference in localStorage
        localStorage.setItem('aboutMeHidden', isCurrentlyVisible.toString());
      }
    });
  });
</script>